(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,o){"use strict";o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return c})),o.d(e,"b",(function(){return a}));const n=async()=>{let t=null;try{return await new Promise((e,o)=>{const n=Date.now(),c=()=>{if(window.nclood)e(!0);else{(Date.now()-n)/1e3>10?o("nclood library failed to load."):(clearTimeout(t),t=setTimeout(()=>{c()},500))}};c()}),!!window.nclood}catch(t){return console.log(t),!1}},c=async()=>{let t=null;try{return await new Promise((e,o)=>{const n=Date.now(),c=()=>{if(window.Alps)e(!0);else{(Date.now()-n)/1e3>10?o("Alps failed to load."):(clearTimeout(t),t=setTimeout(()=>{c()},500))}};c()}),!!window.Alps}catch(t){return console.log(t),!1}},a=async()=>{let t=null,e=null;try{return await new Promise((e,o)=>{const n=Date.now(),c=function(){if(window.nclood.Accounts.loaded)e(!0);else{(Date.now()-n)/1e3>10?o("Could not retrieve My Nintendo user information."):(clearTimeout(t),t=setTimeout(()=>{c()},500))}};c()}),e=window.nclood.Accounts.currentUser,e||window.nclood.Accounts.onLogin(t=>{e=window.nclood.Accounts.currentUser}),e}catch(t){return console.log(t),e}}},13:function(t,e,o){"use strict";o.r(e);var n=o(0);let c=null;const a=function(t,e){const o=t.querySelector(".wishlist-button__text");if(t.setAttribute("aria-pressed",e?"true":"false"),o){const{removeText:n,addText:c}=t.dataset;o.innerHTML=e?n:c}t.dataset.added=e?"true":"false"},s=async t=>{const e=t.target.closest("button");c?(async t=>{const e="true"===t.dataset.added,o=!e,{nsuid:n}=t.dataset;a(t,o);try{await window.nclood.Wishlist[o?"add":"remove"]({category:nclood.Wishlist.Category.ESHOP_PRODUCT,id:n})}catch(o){a(t,e),console.log(o)}})(e):(await nclood.Accounts.promptLogin(),c=await Object(n.b)())},l=async()=>{let t=await(async()=>{try{return await window.nclood.Wishlist.getAll()}catch(t){console.log(t)}})();r(t)},i=()=>{c=null,r(null)},r=t=>{const e=document.querySelectorAll(".wishlist-button[data-nsuid]");if(e&&e.length)for(let o of e){const{removeText:e,addText:n,nsuid:c}=o.dataset,a=o.querySelector(".wishlist-button__text"),l=!!t&&t.some(t=>t.id===c);o.dataset.added=l?"true":"false",o.setAttribute("aria-pressed",l?"true":"false"),o.querySelector(".wishlist-button__text").setAttribute("aria-live","polite"),a.innerHTML=l?e:n,o.removeEventListener("click",s),o.addEventListener("click",s)}};var d=async()=>{try{await Object(n.c)(),c=await Object(n.b)(),c?l():i(),nclood.Accounts.onLogin(l),nclood.Accounts.onLogout(i)}catch(t){console.log(t)}};(async()=>{const t=await Object(n.c)(),e=()=>{(async t=>{const e=document.querySelectorAll("[data-live-price]"),o=await Object(n.b)();if(t&&o)for(let t of e){let e=t.dataset.nsuid,n=t.dataset.country,c=t.dataset.lang||document.documentElement.getAttribute("lang");t.closest(".price-list")&&(o&&"us"===o.country.toLowerCase()?t.parentNode.classList.add("price-list--hide-ca"):o&&"ca"===o.country.toLowerCase()&&t.parentNode.classList.add("price-list--hide-us")),e&&e.length>0&&nclood.eShop.fetchPrice(e,(o,n)=>{if(o)return console.log(o||"Unable to get live prices");let a=n[e],s="";if("not_found"!==a.status){s=a.regular.raw,"fr"===c&&(s=s.replace(".",",")),t.querySelector(".rawprice").innerHTML=s,t.className+=" price--available"}},{country:n,lang:c,personalized:!1})}})(t)};t&&nclood.Accounts.onLogin(e),d()})()}},[[13,0]]]);